# Apache Kafka Helm Values
# Used by: gitops/argo-apps/platform/kafka.yaml
# Chart: bitnami/kafka

kafka:
  # Number of Kafka brokers for testing
  replicaCount: 1

  # Broker resource configuration
  resources:
    requests:
      memory: 512Mi
      cpu: 500m
    limits:
      memory: 1Gi
      cpu: 1000m

  # Persistence settings
  persistence:
    enabled: true
    storageClass: gp3
    size: 5Gi

  # Service configuration for clients
  service:
    type: ClusterIP
    port: 9092

  # Disable Zookeeper - use KRaft mode (native Kafka)
  zookeeper:
    enabled: false

  # KRaft mode configuration
  kraft:
    enabled: true

  # Kafka configuration
  config:
    # Log retention
    logRetentionHours: 24
    numPartitions: 3
    defaultReplicationFactor: 1
    # Disable auto topic creation
    autoCreateTopicsEnable: false

# Create namespace if it doesn't exist
namespaceCreate: true
namespace: kafka
